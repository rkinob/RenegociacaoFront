<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="large" color="#fff" type="ball-circus" [fullScreen] = "true"></ngx-spinner>

<form *ngIf="exibirPagina" [formGroup]="formContratos">
  <fieldset>
    <div class="form-card">
      <h6 class="fs-subtitle">Selecione os contratos que deseja renegociar:</h6>
      <BR>
      <div class="row" >
        <div class="col-md-12">
            <table class="table table-bordered table-striped table-hover table-sm" >
          <thead>
            <tr>
              <th>Descrição</th>
              <th>Valor</th>
              <th>Vencimento</th>
              <th></th>
            </tr>
          </thead>
            <tbody >
                <tr *ngFor="let contrato of contratos; let j = index;" >
                  <td>{{ contrato.descricao }}</td>
                  <td>{{ contrato.valor | currency:'BRL'}}</td>
                  <td>{{ contrato.dataVencimento | date: 'dd/MM/yyyy'}}</td>
                  <td><input type="checkbox" [id]="'idcont' + j" formArrayName="IdContrato" [value]="contrato.idContrato" (change)="onCheckboxChange($event)" [checked]="contratosSelecionados.value.includes(contrato.idContrato)" /></td>
                </tr>
              </tbody>
            </table>
        </div>
      </div>

    </div>
    <input type="button" name="previous" class="previous action-button-previous" (click)="setNumeroPasso(numerodoPassoAtual - 1)" value="Voltar"/>
    <input type="button" name="next" class="next action-button" [disabled]="formContratos.invalid"  (click)="verificarOferta()" value="Continuar"/>
  </fieldset>

</form>
